<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="de">
<head>
    <meta charset="UTF-8">
    <title th:text="${arzt.vorname + ' ' + arzt.nachname}">Arztprofil</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container py-5">

    <!-- Arztprofil -->
    <div class="card mb-4 shadow-sm">
        <div class="card-body d-flex flex-wrap align-items-center">
            <img th:src="@{${arzt.mainImage}}" alt="Profilbild" class="rounded-circle me-4" width="140" height="140">
            <div>
                <h2 th:text="${arzt.vorname + ' ' + arzt.nachname}">Dr. Max Mustermann</h2>
                <p>
                    <strong>Fachrichtungen:</strong>
                    <span th:each="fach, stat : ${arzt.fachrictungList}"
                          th:text="${fach.name} + ${stat.last ? '' : ', '}">Zahnarzt</span>
                </p>
                <p><strong>Geschlecht:</strong> <span th:text="${arzt.geschlecht}">MÄNNLICH</span></p>
                <p><strong>Geburtsdatum:</strong> <span th:text="${#temporals.format(arzt.geburtsdatum, 'dd.MM.yyyy')}">01.01.1980</span></p>
                <p><strong>Telefon:</strong> <span th:text="${arzt.telefonnummer}">01234 56789</span></p>
                <p><strong>Email:</strong> <span th:text="${arzt.email}">arzt@example.de</span></p>
                <p><strong>Adresse:</strong> <span th:text="${arzt.address}">Zwickau</span></p>
            </div>
        </div>
    </div>

    <!-- Beschreibung -->
    <div class="card mb-4 shadow-sm">
        <div class="card-body">
            <h4>Über den Arzt</h4>
            <p th:text="${arzt.beschreibung}">Langjährige Erfahrung im Bereich Zahnmedizin...</p>
        </div>
    </div>

    <!-- Galerie -->
    <div class="card mb-4 shadow-sm" th:if="${arzt.gallery != null and !arzt.gallery.isEmpty()}">
        <div class="card-body">
            <h4>Galerie</h4>
            <div class="d-flex flex-wrap gap-3">
                <img th:each="bild : ${arzt.gallery}"
                     th:src="@{${bild}}"
                     class="img-thumbnail"
                     width="200" height="150" alt="Galeriebild">
            </div>
        </div>
    </div>

    <!-- Leistungen -->
    <div class="card mb-4 shadow-sm">
        <div class="card-body">
            <h4>Leistungen</h4>
            <ul class="list-group list-group-flush" th:if="${leistungen != null}">
                <li class="list-group-item" th:each="leistung : ${leistungen}" th:text="${leistung.name}">Zahnreinigung</li>
            </ul>
        </div>
    </div>

    <div class="card-body">
        <h4>Leistungen</h4>
        <ul class="list-group list-group-flush" th:if="${fachrictungen != null}">
            <li class="list-group-item" th:each="fach : ${fachrictungen}" th:text="${fach.getName()}">Zahnreinigung</li>
        </ul>
    </div>
</div>

    <!-- Bewertungen -->
    <div class="card mb-4 shadow-sm">
        <div class="card-body">
            <h4>Bewertungen</h4>
            <div th:if="${#lists.isEmpty(reviews)}">
                <p>Noch keine Bewertungen vorhanden.</p>
            </div>
            <div th:each="review : ${reviews}" class="border-bottom py-3">
                <strong th:text="${review.patient.nachname + ' ' + review.patient.vorname}">Anonymer Nutzer</strong>
                <span class="text-muted ms-2" th:text="${#temporals.format(review.datum, 'dd.MM.yyyy')}">01.01.2024</span>
                <p class="mb-1" th:text="${review.review}">5</p>
                <p th:text="${review.comment}">Sehr kompetent und freundlich!</p>
            </div>
        </div>
    </div>

    <!-- Termin Button -->
    <div class="text-center">
        <a th:href="@{/termin/buchen/{id}(id=${arzt.id})}" class="btn btn-primary btn-lg">Termin buchen</a>
    </div>
</div>

</body>
</html>
